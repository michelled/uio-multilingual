<html lang="fa" dir="rtl">
    <head>

        <link rel="stylesheet" type="text/css" href="../lib/infusion/src/framework/preferences/css/Enactors.css" />
    	<link rel="stylesheet" type="text/css" href="../lib/infusion/src/framework/preferences/css/PrefsEditor.css" />
    	<link rel="stylesheet" type="text/css" href="../lib/infusion/src/framework/preferences/css/SeparatedPanelPrefsEditor.css" />

        <!-- Right-to-left preferences editor styles -->
        <link rel="stylesheet" type="text/css" href="src/css/SeparatedPanelPrefsEditor-RTL.css" />

        <!-- Demo styles -->
        <link rel="stylesheet" type="text/css" href="src/css/UIOMultilingualDemo.css" />

        <script src="../lib/infusion/infusion-all.js">
        </script>

    </head>
    <body>

    <!-- BEGIN markup for Preference Editor -->
	<div class="flc-prefsEditor-separatedPanel fl-prefsEditor-separatedPanel">
		<!-- This is the div that will contain the Preference Editor component -->
		<div class="flc-slidingPanel-panel flc-prefsEditor-iframe"></div>

		<!-- This div is for the sliding panel that shows and hides the Preference Editor controls -->
		<div class="fl-panelBar">
			<span class="fl-prefsEditor-buttons">
				<button id="reset" class="flc-prefsEditor-reset fl-prefsEditor-reset"><span class="fl-icon-undo"></span> برگشت به حالت اولیه</button>
				<button id="show-hide" class="flc-slidingPanel-toggleButton fl-prefsEditor-showHide"> Show/Hide</button>
			</span>
		</div>
	</div>
	<!-- END markup for Preference Editor -->

	<div class="flc-toc-tocContainer toc"> </div>

    <h1>سلام, دنیا</h1>
    <p>
        به نسخه نمایشی و چند زبانه UIO خوش آمدید!
    </p>

    <ul>
        <li>
            <a href="index_en.html">en</a>
        </li>
        <li>
            <a href="index_fr.html">fr</a>
        </li>
        <li>
            <a href="index_fa.html">fa</a>
        </li>
    </ul>

    <script>
		$(document).ready(function () {
		    var uio = fluid.uiOptions.prefsEditor(".flc-prefsEditor-separatedPanel", {
		        terms: {
		            "templatePrefix": "./src/html/rtl",
		            "messagePrefix": "./src/messages"
		        },
		        "tocTemplate": "../lib/infusion/src/components/tableOfContents/html/TableOfContents.html",
		        "ignoreForToC": {
		            "overviewPanel": ".flc-overviewPanel"
		        },
                // TODO: has to be a better way!
                distributeOptions: {
                    target: "{that fluid.tableOfContents}.options.strings.tocHeader",
                    record: "فهرست مطالب"

                },
				components: {
					prefsEditorLoader:{
						options: {
							components: {
								messageLoader: {
									options: {
										locale: "fa"
									}
								}
							}
						}
					}
				}
		    });
            console.log(uio)
		});
	</script>
    </body>
</html>
